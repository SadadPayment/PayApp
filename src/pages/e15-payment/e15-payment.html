<ion-header>

  <ion-navbar color="one">
    <ion-title>دفع فاتورة E15</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <form novalidate (ngSubmit)="e15Payment()" [formGroup]="E15Form">
      <ion-item>
        <ion-label>اختار المحفظة:</ion-label>
        <ion-select [(ngModel)]="E15Data.id" formControlName="id">
          <ion-option *ngFor="let item of PAN" value="{{item.id}}">{{item.name}}</ion-option>
        </ion-select>
      </ion-item>


      <ion-item>
        <ion-label floating>رقم الهاتف:</ion-label>
        <ion-input type="number" maxlength="10" minlength="10" max="10" min="10" [(ngModel)]="E15Data.Phone"
                   formControlName="phone"
                   [class.error1]="!E15Form.controls.phone.valid && E15Form.controls.phone.dirty"></ion-input>
      </ion-item>

      <ion-item no-lines
                *ngIf="( E15Form.get('phone').hasError('minlength') || E15Form.get('phone').hasError('maxlength') ||E15Form.get('phone').hasError('pattern') ||E15Form.get('phone').hasError('required') ) && E15Form.get('phone').touched">
        <div class="error" *ngIf="E15Form.get('phone').hasError('phone') && E15Form.get('phone').touched">
          الرجاء اداخل رقم الهاتف يبدا بـ09 او 01
        </div>
        <div class="error" *ngIf="E15Form.get('phone').hasError('minlength') && E15Form.get('phone').touched">
          رقم الهاتف مكون من 10 ارقام علي الاقل
        </div>
        <div class="error" *ngIf="E15Form.get('phone').hasError('maxlength') && E15Form.get('phone').touched">
            <span style="color: red">خطا رقم الهاتف المدخل اكبر من10 ارقام</span>
        </div>
        <div class="error" *ngIf="E15Form.get('phone').hasError('pattern') && E15Form.get('phone').touched">
          فقط يمكنك اداخل ارقام - تبدا بـ 09 او 01
        </div>
      </ion-item>
      <ion-item>
        <ion-label floating>القيمة:</ion-label>
        <ion-input type="number" placeholder="القيمة" [(ngModel)]="E15Data.Amount"
                   formControlName="amount"
                   [class.error1]="!E15Form.controls.amount.valid && E15Form.controls.amount.dirty"></ion-input>
      </ion-item>

      <ion-item no-lines
                *ngIf="( E15Form.get('amount').hasError('minlength') || E15Form.get('amount').hasError('maxlength') ||E15Form.get('amount').hasError('pattern') ||E15Form.get('amount').hasError('required') ) && E15Form.get('amount').touched">
        <div class="error" *ngIf="E15Form.get('amount').hasError('amount') && E15Form.get('amount').touched">
          الرجاء ادخال القيمة
        </div>
        <div class="error" *ngIf="E15Form.get('amount').hasError('minlength') && E15Form.get('amount').touched">
          قيمة الفاتورة عدد صحيح فقط اكبر من 1
        </div>
        <div class="error" *ngIf="E15Form.get('amount').hasError('pattern') && E15Form.get('amount').touched">
          قيمة الفاتروة فقط ارقام صحيحة اكبر من 1
        </div>
      </ion-item>
      <ion-item>
        <ion-label floating>الرقم السري للانترنت:</ion-label>
        <ion-input type="password" placeholder="IPIN" [(ngModel)]="E15Data.IPIN"
                   formControlName="IPIN"
                   [class.error1]="!E15Form.controls.IPIN.valid && E15Form.controls.IPIN.dirty"></ion-input>
      </ion-item>

      <ion-item no-lines
                *ngIf="( E15Form.get('IPIN').hasError('minlength') || E15Form.get('IPIN').hasError('maxlength') ||E15Form.get('IPIN').hasError('pattern') ||E15Form.get('IPIN').hasError('required') ) && E15Form.get('IPIN').touched">
        <div class="error" *ngIf="E15Form.get('IPIN').hasError('IPIN') && E15Form.get('IPIN').touched">
          ادخل رقم الانترنت السري
        </div>
        <div class="error" *ngIf="E15Form.get('IPIN').hasError('minlength') && E15Form.get('IPIN').touched">
          رقم الانترنت السري مكون من 4 ارقام علي الاقل
        </div>
        <div class="error" *ngIf="E15Form.get('IPIN').hasError('maxlength') && E15Form.get('IPIN').touched">
          رقم الانترنت السري مكون من 4 اراقم فقط
        </div>
        <div class="error" *ngIf="E15Form.get('IPIN').hasError('pattern') && E15Form.get('IPIN').touched">
          رقم الانترنت السري مكون من اعداد صحيحة مثل (1234)
        </div>
      </ion-item>


      <ion-item>
        <ion-label floating>رقم الفاتورة:</ion-label>
        <ion-input type="number" placeholder="رقم الفاتورة" [(ngModel)]="E15Data.InvouisNumber"
                   formControlName="InvouisNumber"
                   [class.error1]="!E15Form.controls.InvouisNumber.valid && E15Form.controls.InvouisNumber.dirty"></ion-input>
      </ion-item>

      <ion-item no-lines
                *ngIf="( E15Form.get('InvouisNumber').hasError('minlength') || E15Form.get('InvouisNumber').hasError('maxlength') ||E15Form.get('InvouisNumber').hasError('pattern') ||E15Form.get('InvouisNumber').hasError('required') ) && E15Form.get('InvouisNumber').touched">
        <div class="error"
             *ngIf="E15Form.get('InvouisNumber').hasError('InvouisNumber') && E15Form.get('InvouisNumber').touched">
          ادخل رقم الفاتورة
        </div>
        <div class="error"
             *ngIf="E15Form.get('InvouisNumber').hasError('minlength') && E15Form.get('InvouisNumber').touched">
          يجب ان لا يقل رقم الفاتورة عن 18
        </div>
        <div class="error"
             *ngIf="E15Form.get('InvouisNumber').hasError('maxlength') && E15Form.get('InvouisNumber').touched">
          يجب ان لا يزيد رقم الفاتورة عن 30
        </div>
        <div class="error"
             *ngIf="E15Form.get('InvouisNumber').hasError('pattern') && E15Form.get('InvouisNumber').touched">
          رقم الفاتورة مكون فقط من ارقام من 18 الي 30 رقم
        </div>
      </ion-item>
      <button type="submit" ion-button block color="one" [disabled]="E15Form.invalid">تحقق</button>
    </form>
  </ion-list>

  <!--
    <ion-card *ngIf"data">
        <p>الاسم:{{ data.response.PayerName}}</p>
        <p> الرقم المرجعي: {{data.response.ReferenceId}}</p>
        <p> اسم الخدمة: {{ data.response.ServiceName}}</p>
        <p>القيمة الاجمالية:{{data.response.TotalAmount}}</p>
        <p>اسم الوحدة: {{data.response.UnitName}}</p>
      </ion-card> -->
</ion-content>
